## lec3 GFS

容错的实现：复制。

强一致性往往花费巨大的代价。

糟糕的副本设计也可能会导致奇怪的问题：

即使是单线程也可能会在这种发送数据到多个副本的情况造成数据不安全的情况，然后两个副本并不一致。所以简单的副本并不可靠，需要更多开销来保证数据的一致性。

![image-20230515160054664](https://gitee.com/moni_world/pic_bed/raw/master/img/image-20230515160054664.png)

GFS认为弱一致性是可行的。

如果需要一定的强一致性，就可以在应用程序这个层面进行一致性的校验，并不需要在存储层面进行校验。



### Master Data

主要存储两个映射：

![image-20230515161336681](https://gitee.com/moni_world/pic_bed/raw/master/img/image-20230515161336681.png)



### Split brain

网络问题引起的，放回两种截然不同的结果。